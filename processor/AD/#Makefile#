# Important makefile targets:
# make lab.sim		GUI simulation
# make lab.simc		batch simulation
# make lab.synth	Synthesize
# make lab.route	Route the design
# make lab.bitgen	Generate bit file
# make lab.timing	Generate timing report
# make lab.clean	Use whenever you change settings in the Makefile!
# make lab.prog		Downloads the bitfile to the FPGA. NOTE: Does not
#                       rebuild bitfile if source files have changed!
# make clean            Removes all generated files for all projects. Also
#                       backup files (*~) are removed.
#
# VIKTIG NOTERING: 	Om du Ã¤ndrar vilka filer som finns med i projektet sÃ¥ mÃ¥ste du kÃ¶ra
#                  	make lab.clean
#
# Syntesrapporten ligger i lab-synthdir/xst/synth/design.syr
# Maprapporten (bra att kolla i fÃ¶r arearapportens skull) ligger i lab-synthdir/layoutdefault/design_map.mrp
# Timingrapporten (skapas av make lab.timing) ligger i lab-synthdir/layoutdefault/design.trw

# (Or proj2.simc, proj2.sim, etc, depending on the name of the
# project)

XILINX_INIT = source /sw/xilinx/ise_12.4i/ISE_DS/settings64.sh;
PART=xc6slx16-3-csg324


AD.%: S=AD.vhd ../RAM/RAM.vhd ../audio/audio.vhd ../audio_map_mem/audio_map_mem.vhd ../audio_motor/audio_motor.vhd ../kb_enc/kb_unit.vhd ../sprite_pic_mem/sprite_pic_mem.vhd ../tile_pic_mem/tile_pic_mem.vhd ../VGA_motor/VGA_motor.vhd
AD.%: T=AD_tb.vhd
AD.%: U=../Nexys3_Master.ucf


# Det hÃ¤r Ã¤r ett exempel pÃ¥ hur man kan skriva en testbÃ¤nk som Ã¤r
# relevant, Ã¤ven om man kÃ¶r en simulering i batchlÃ¤ge (make batchlab.simc)
#batchlab.%: S=cpu_embryo.vhd
#batchlab.%: T=cpu_embryo_tb.vhd
#batchlab.%: U=Nexys3_Master.ucf


# Misc functions that are good to have
include ../build/util.mk
# Setup simulation environment
include ../build/vsim.mk
# Setup synthesis environment../audio/audio.vhd 
include ../build/xst.mk
# Setup backend flow environment
include ../build/xilinx-par.mk
# Setup tools for programming the FPGA
include ../build/digilentprog.mk



# Alternative synthesis methods
# The following is for ASIC synthesis
#include design_compiler.mk
# The following is for synthesis to a Xilinx target using Precision.
#include precision-xilinx.mk
